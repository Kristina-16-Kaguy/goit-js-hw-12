{"version":3,"file":"index.js","sources":["../src/js/iziToastHelper.js","../src/js/pixabay-api.js","../src/js/refs.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function showError(message) {\n  iziToast.error({\n    message: message,\n    position: 'topRight',\n  });\n}\n","import axios from 'axios';\nimport { showError } from './iziToastHelper.js';\n\nconst API_KEY = '52515106-cf2fe0ed90e49660ada5f5535';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function getImagesByQuery(query) {\n  return axios\n    .get(BASE_URL, getParams(query))\n    .then(response => {\n      const images = response.data.hits;\n\n      if (!images || !images.length) {\n        showError(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      }\n\n      return images;\n    })\n    .catch(error => {\n      showError(error.message);\n      return [];\n    });\n}\n\nfunction getParams(query) {\n  return {\n    params: {\n      key: API_KEY,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n      per_page: 9,\n    },\n  };\n}\n","export const refs = {\n  form: document.querySelector('.form'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { refs } from './refs.js';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function createGallery(images) {\n  const markup = images\n    .map(\n      image =>\n        `<li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n            <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"gallery-img\">\n          </a>\n          <ul class=\"img-footer\">\n            <li class=\"img-footer-item\">\n              <h3 class=\"meta-header\">Likes</h3>\n              <p class=\"meta-info\">${image.likes}</p>\n            </li>\n            <li class=\"img-footer-item\">\n              <h3 class=\"meta-header\">Views</h3>\n              <p class=\"meta-info\">${image.views}</p>\n            </li>\n            <li class=\"img-footer-item\">\n              <h3 class=\"meta-header\">Comments</h3>\n              <p class=\"meta-info\">${image.comments}</p>\n            </li>\n            <li class=\"img-footer-item\">\n              <h3 class=\"meta-header\">Downloads</h3>\n              <p class=\"meta-info\">${image.downloads}</p>\n            </li>\n           </ul>\n       </li>`\n    )\n    .join('');\n  refs.gallery.innerHTML = markup;\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n  refs.gallery.innerHTML = '';\n}\n\nexport function showLoader() {\n  refs.loader.classList.add('is-visible');\n}\n\nexport function hideLoader() {\n  refs.loader.classList.remove('is-visible');\n}\n","import { getImagesByQuery } from './js/pixabay-api.js';\nimport {\n  clearGallery,\n  createGallery,\n  hideLoader,\n  showLoader,\n} from './js/render-functions.js';\nimport { refs } from './js/refs.js';\n\nrefs.form.addEventListener('submit', event => {\n  event.preventDefault();\n  const inputValue = event.target.elements['search-text'].value.trim();\n\n  if (!inputValue) return;\n  clearGallery();\n  showLoader();\n  getImagesByQuery(inputValue)\n    .then(images => createGallery(images))\n    .finally(hideLoader);\n});\n"],"names":["showError","message","iziToast","API_KEY","BASE_URL","getImagesByQuery","query","axios","getParams","response","images","error","refs","lightbox","SimpleLightbox","createGallery","markup","image","clearGallery","showLoader","hideLoader","event","inputValue"],"mappings":"owBAGO,SAASA,EAAUC,EAAS,CACjCC,EAAS,MAAM,CACb,QAASD,EACT,SAAU,UACd,CAAG,CACH,CCLA,MAAME,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAiBC,EAAO,CACtC,OAAOC,EACJ,IAAIH,EAAUI,EAAUF,CAAK,CAAC,EAC9B,KAAKG,GAAY,CAChB,MAAMC,EAASD,EAAS,KAAK,KAE7B,OAAI,CAACC,GAAU,CAACA,EAAO,SACrBV,EACE,0EACV,EAGaU,CACb,CAAK,EACA,MAAMC,IACLX,EAAUW,EAAM,OAAO,EAChB,GACR,CACL,CAEA,SAASH,EAAUF,EAAO,CACxB,MAAO,CACL,OAAQ,CACN,IAAKH,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,CACX,CACL,CACA,CCrCO,MAAMM,EAAO,CAClB,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,ECAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcL,EAAQ,CACpC,MAAMM,EAASN,EACZ,IACCO,GACE;AAAA,0CACkCA,EAAM,aAAa;AAAA,wBACrCA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,qCAKzBA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,qCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,qCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,qCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,aAI/C,EACA,KAAK,EAAE,EACVL,EAAK,QAAQ,UAAYI,EACzBH,EAAS,QAAO,CAClB,CAEO,SAASK,GAAe,CAC7BN,EAAK,QAAQ,UAAY,EAC3B,CAEO,SAASO,GAAa,CAC3BP,EAAK,OAAO,UAAU,IAAI,YAAY,CACxC,CAEO,SAASQ,GAAa,CAC3BR,EAAK,OAAO,UAAU,OAAO,YAAY,CAC3C,CC3CAA,EAAK,KAAK,iBAAiB,SAAUS,GAAS,CAC5CA,EAAM,eAAc,EACpB,MAAMC,EAAaD,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OAEzDC,IACLJ,IACAC,IACAd,EAAiBiB,CAAU,EACxB,KAAKZ,GAAUK,EAAcL,CAAM,CAAC,EACpC,QAAQU,CAAU,EACvB,CAAC"}